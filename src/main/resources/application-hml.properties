# ============================================================================
# CONFIGURAÇÕES DO AMBIENTE DE HOMOLOGAÇÃO (HML)
# ============================================================================
# Perfil Spring: hml
# Uso: mvn spring-boot:run -Dspring-boot.run.profiles=hml
# ============================================================================

# =========================================
# CONFIGURAÇÕES DO BANCO DE DADOS HML_AXIS
# =========================================
spring.datasource.url=jdbc:postgresql://axis_db:5432/hml_axis
spring.datasource.username=filipeAxis
spring.datasource.password=euFilipe03060728!
spring.datasource.driver-class-name=org.postgresql.Driver

# =========================================
# CONFIGURAÇÕES DO JPA/HIBERNATE
# =========================================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.default_schema=core

# =========================================
# CONFIGURAÇÕES DO JWT (DIFERENTE DE PRD)
# =========================================
app.jwtSecret=HML_AXISJWTSecretKeyForHomologationEnvironmentXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
app.jwtExpirationInMs=604800000

# =========================================
# CONFIGURAÇÕES DO SERVIDOR
# =========================================
server.port=8080

# =========================================
# CONFIGURAÇÕES DO SWAGGER
# =========================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# =========================================
# CONFIGURAÇÕES DE LOGGING (MAIS VERBOSO)
# =========================================
logging.level.com.axis=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.root=INFO

# =========================================
# CONFIGURAÇÃO DE DATA E TIMEZONE
# =========================================
spring.jackson.date-format=dd/MM/yyyy
spring.jackson.time-zone=America/Sao_Paulo

# =========================================
# CONFIGURAÇÕES DE EMAIL (SENDGRID - TESTE)
# =========================================
spring.mail.host=${MAIL_HOST:smtp.sendgrid.net}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:apikey}
spring.mail.password=${MAIL_PASSWORD:SG.teste_substitua_por_chave_real}

# Autenticação SMTP
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Timeout
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Remetente padrão (indicando ambiente HML)
app.mail.from=${MAIL_FROM:hml-noreply@portalaxis.com.br}
app.mail.fromName=${MAIL_FROM_NAME:AXIS HML - Ambiente de Homologação}

# =========================================
# CONFIGURAÇÕES DE RESET DE SENHA
# =========================================
app.reset-senha.token-expiration-minutes=15
app.reset-senha.max-attempts-per-user-per-hour=3
app.reset-senha.max-attempts-per-ip-per-hour=10

# URL do frontend HML para reset de senha
app.reset-senha.frontend-url=${FRONTEND_URL:http://2mesistemas.com.br}/resetar-senha

# Detecção de anomalias
app.reset-senha.anomaly-detection-enabled=false
